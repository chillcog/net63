# Malware Protection

Today we will learn about malware, its types, and how to protect against it.

### Explanation
Malware (malicious software) includes viruses, trojans, ransomware, and more, designed to damage, steal, or disrupt systems.

#### Key Concepts:
##### Types: Viruses (infect files), Trojans (disguised malware), Ransomware (encrypts data for ransom), Spyware (steals info).
##### Vectors: Email attachments, malicious downloads, drive-by downloads.
##### Protection: Antivirus software, firewalls, regular updates.

### Technical:
#### How Malware Works:
Exploits vulnerabilities, spreads via networks, executes malicious code.

#### Security Benefits:
Prevents data theft, system damage, and unauthorized access.

## How to setup one properly:

### General Best Practices
1. Install reputable antivirus software.
2. Keep OS and apps updated.
3. Avoid opening unknown attachments/emails.
4. Use sandboxing for suspicious files.
5. Backup data regularly.

### Client (Endpoint Protection)
Protect your devices.

#### Linux/macOS
1. Install ClamAV antivirus:
   - Ubuntu: `sudo apt install clamav clamav-daemon`
   - macOS: Use Malwarebytes or built-in XProtect.
2. Enable real-time scanning.
3. Use tools like rkhunter for rootkits: `sudo apt install rkhunter`
4. Scan regularly: `sudo clamscan -r /home`

#### Windows
1. Use Windows Defender (built-in):
   - Enable in Settings > Update & Security > Windows Security.
2. Install additional like Malwarebytes or Bitdefender.
3. Enable real-time protection and cloud-delivered protection.
4. Run full scans weekly.

**Note:** Avoid multiple antivirus programs to prevent conflicts.

### Server Protection
Secure servers against malware.

#### Linux
1. Install ClamAV on servers.
2. Use fail2ban to block malicious IPs.
3. Enable AppArmor or SELinux for containment.
4. Monitor logs with tools like OSSEC.

#### Windows
1. Use Windows Defender for servers.
2. Enable Windows Firewall and IPS.
3. Use Group Policy for security settings.
4. Integrate with Microsoft Defender for Endpoint.

**Note:** For cloud servers, use provider tools (e.g., AWS GuardDuty).

## Samples:

### Example ClamAV Scan Output
```
Scanning /home/user/file.txt
/home/user/file.txt: Eicar-Test-Signature FOUND
```

### Example fail2ban Jail Config (/etc/fail2ban/jail.local)
```
[sshd]
enabled = true
port = ssh
filter = sshd
logpath = /var/log/auth.log
maxretry = 3
bantime = 3600
```

### Example Windows Defender Scan Command
```
"%ProgramFiles%\Windows Defender\MpCmdRun.exe" -Scan -ScanType 2
```
(Full scan.)

## Recommended
- Use antivirus like Bitdefender or ESET.
- Enable automatic updates.
- Educate on phishing.
- Use virtual machines for testing.
- Respond quickly to incidents.
